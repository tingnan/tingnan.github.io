<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">
    <script type="text/javascript" src="javascripts/common.js"></script>
    <script type="text/javascript" src="javascripts/pinball.js"></script>
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>PNaCl Pinball Demo by tingnan</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>PNaCl Pinball Demo</h1>
        <h2></h2>
        <a href="https://github.com/tingnan" class="button"><small>Follow me on</small> GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h2>
<a id="description" class="anchor" href="#description" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h2>

<p>This is a page to demonstrate how the physics simulation layer (which I wrote during my internship with my host Bill Budge) works in Google Chrome using <a href="https://developer.chrome.com/native-client">Portable Native Client</a> technology. The input is a json file (generated by a editor, not yet published) which describes the 2D geometry of the pinball board, the various collision shapes on the board and the joints that connect the flippers to the board.</p>
<p>If the nexe crashed during startup, please go to "chrome://flags", find the line contains "Restrict Native Client GDB-based...", and then change the flag to "Debug only if manifest URL ends with debug.nmf". After restarting Chrome, problem should be resolved.</p>
<body data-width="650" data-height="650" data-name="pinball" data-tools="pnacl" data-configs="Release" data-path="{tc}/{config}">
  <h2>PNaCl Pinball Window</h2>
  <h3>Status: <code id="statusField">NO-STATUS</code></h3>
  <div id="listener"></div>
  <div id="log"></div>
</body>

<h2>
<a id="support-or-contact" class="anchor" href="#support-or-contact" aria-hidden="true"><span class="octicon octicon-link"></span></a>Support or Contact</h2>

<ul>
<li>If you are not using Google Chrome;</li>
<li>Or if you are using a mobile version of Chrome. The hope is that <a href="https://github.com/WebAssembly">WebAssembly</a> will eventually work for all the browsers and platforms. </li>
<li>If you saw particles stuck inside the flipper. Press 'Q'/'E' to release that flipper, let it fall and then press 'Q'/'E' again to assemble it back. In this way the flipper will shake the particles out. This happens due to box2d (the default physics engine that powered this demo) ghost vertices issue. In the future version I will let the user choose which physics engine to use. </li>
</ul>

<p>Check out the <a href="https://github.com/billbudge/Diagrams">source code</a> of the physics simulation layer.</p>
        </section>

        <aside id="sidebar">
          <h3>
          <a id="how-to-play" class="anchor" href="#how-to-play" aria-hidden="true"><span class="octicon octicon-link"></span></a>How to Play</h3>

          <p>First, click anywhere inside the game window to get focus. </p>
          <ul>
          <li>Press '1' to enable/disable drawing edges. </li>
          <li>Press '2' to enable/disable drawing the 3D shapes.</li>
          <li>Press '3' to enable/disable drawing debugging texts, showing the position of the shapes on the board.</li>
          <li>Press '4' to add/remove a collision shape from the board.</li>
          <li>Press 'B' to boost particles.</li>
          <li>Press 'A'/'D' to rotate left/right flipper.</li>
          <li>Press 'Q'/'E' to assemble/disassemble left/right flipper.</li>
          <li>Scroll mouse wheel to zoom in/out.</li>
          <li>Move mouse pointer while keeping left button pressed to pan.</li>
          </ul>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>


  </body>
</html>
